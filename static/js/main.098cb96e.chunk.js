(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,a){e.exports=a(519)},223:function(e,t,a){},239:function(e,t){},241:function(e,t){},340:function(e,t){},421:function(e,t){},519:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(211),r=a.n(i),l=(a(223),a(42)),o=a(43),c=a(45),m=a(44),u=a(46),p=a(122),d=a(520),h=a(523),y=Object(h.a)(function(e){return s.a.createElement("nav",{className:"grey darken-4 z-depth-0"},s.a.createElement("div",{className:"nav-wrapper container"},s.a.createElement("a",{href:"/",className:"brand-logo"},"Sqoodle Admin"),s.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},s.a.createElement("li",null,s.a.createElement(p.a,{to:"/"},"HOME")),s.a.createElement("li",null,s.a.createElement(d.a,{to:"/add_token"},"ADD TOKEN")),s.a.createElement("li",null,s.a.createElement(d.a,{to:"/about"},"ABOUT")))))}),b=a(521),g=a(522),f=a(212),v=a(7),E=a.n(v),k=a(34),w=a(83),N=a(9),_=[{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"tokenURI",type:"string"}],name:"mintWithTokenURI",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],x=a(47),C=a.n(x);function M(e){return e.show?s.a.createElement("div",{className:"xcentered preloader-wrapper big active"},s.a.createElement("div",{className:"spinner-layer spinner-blue"},s.a.createElement("div",{className:"circle-clipper left"},s.a.createElement("div",{className:"circle"})),s.a.createElement("div",{className:"gap-patch"},s.a.createElement("div",{className:"circle"})),s.a.createElement("div",{className:"circle-clipper right"},s.a.createElement("div",{className:"circle"})))):null}var O=function(e){var t=window.atob(e.metadata),a=JSON.parse("["+t+"]")[0];return e.metadata?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s6 offset-s3"},s.a.createElement("ul",{className:"collection with-header"},s.a.createElement("li",{className:"collection-header"},s.a.createElement("h4",null,a.last_name," ",a.first_name)),s.a.createElement("li",{className:"collection-item"},s.a.createElement("img",{style:{width:"75px",height:"75px"},src:a.icon,alt:"icon"})),s.a.createElement("li",{className:"collection-item"},s.a.createElement("i",{className:"material-icons circle left"},"offline_bolt"),a.type),s.a.createElement("li",{className:"collection-item"},s.a.createElement("i",{className:"material-icons circle left"},"store")," Organization: ",a.issuing_organization),s.a.createElement("li",{className:"collection-item"},s.a.createElement("i",{className:"material-icons circle left"},"fingerprint")," Serial Number: ",a.serial_number),s.a.createElement("li",{className:"collection-item"},s.a.createElement("i",{className:"material-icons circle left"},"date_range")," Issue Date: ",a.issue_date),s.a.createElement("li",{className:"collection-item"},s.a.createElement("i",{className:"material-icons circle left"},"hourglass_empty")," Expiry Date: ",a.expiry_date),s.a.createElement("li",{className:"collection-item"},a.description)))):null};var S=function(e){var t=e.errorMessage;return null==t?null:s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card-panel grey darken-4 z-depth-0"},s.a.createElement("span",{className:"red-text text-lighten-2"},s.a.createElement("i",{className:"material-icons circle left"},"error_outline"),t))))},j=function(e){function t(){var e;if(Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={contractInstance:null,web3Instance:null,isLoading:!1,token_id:"",token_metadata:"",errorMessage:null,isMinter:!0,web3:null},e.onChange=e.onChange.bind(Object(N.a)(Object(N.a)(e))),e.onSubmit=e.onSubmit.bind(Object(N.a)(Object(N.a)(e))),e.getTokenByID=e.getTokenByID.bind(Object(N.a)(Object(N.a)(e))),window.ethereum){e.state.web3=new C.a(window.ethereum);try{window.ethereum.enable().then(function(){console.log("User has allowed account access to DApp...")})}catch(a){console.log("error in metamask initialization: ",a),e.setState({errorMessage:"you denied access to this DApp from Metamask"})}}else window.web3?e.state.web3=new C.a(e.state.web3.currentProvider):e.setState({errorMessage:"please install and unlock metamask in order to use this application"});return e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onChange",value:function(e){this.setState({errorMessage:null});var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.id;this.setState(Object(w.a)({},n,a))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.getTokenByID(this.state.token_id)}},{key:"componentDidMount",value:function(){var e=Object(k.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({contractInstance:new this.state.web3.eth.Contract(_,"0xba0c82cc237d1bafcfdedc8dade697c40eb71522")});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),this.setState({errorMessage:"please install and unlock metamask in order to use this application"});case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTokenByID",value:function(){var e=Object(k.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting the token info for id: "+t),this.setState({isLoading:!0}),e.prev=2,e.next=5,this.state.contractInstance.methods.tokenURI(t).call();case 5:return a=e.sent,e.next=8,this.setState({token_metadata:a});case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log("get balance failed. Failed message: "+e.t0),e.next=15,this.setState({errorMessage:"No token with this ID found. "+e.t0.toString()});case 15:this.setState({isLoading:!1});case 16:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container"},s.a.createElement("form",{className:"col s12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"input-field col s3 offset-s3"},s.a.createElement("input",{type:"text",id:"token_id",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"token_id"},"Enter Token ID")),s.a.createElement("div",{className:"input-field col s6"},s.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",onClick:this.onSubmit},"SEARCH")))),s.a.createElement(M,{show:this.state.isLoading}),s.a.createElement(O,{metadata:this.state.token_metadata}),s.a.createElement(S,{errorMessage:this.state.errorMessage})))}}]),t}(n.Component),I=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{marginTop:"20px"}},s.a.createElement("div",{className:"col s6 offset-s3"},s.a.createElement("div",{className:"card grey darken-4 z-depth-0"},s.a.createElement("div",{className:"card-content white-text"},s.a.createElement("span",{className:"card-title"},"Ethereum"),s.a.createElement("p",null,"DAPP created by Andy."))))))};var A=function(e){var t=e.hash;if(null==t)return null;var a="https://rinkeby.etherscan.io/tx/"+t;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card-panel grey darken-4 z-depth-0"},s.a.createElement("span",{className:"blue-text text-lighten-2"},s.a.createElement("i",{className:"material-icons circle left"},"info_outline"),"Tx Hash: ",t),s.a.createElement("p",null,s.a.createElement("a",{className:"btn blue",href:a},"View on Etherscan")))))},D=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).metamaskUpdateCallback=function(e){var t=e.selectedAddress,n=e.networkVersion;console.log("selectedAddress",t),a.setState({errorMessage:null}),function(){var e=Object(k.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.state.contractInstance.methods.isMinter(t).call();case 3:!1===e.sent&&a.setState({errorMessage:"only minters are allowed to access this dapp"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("isMinter call failed: "+e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}().call();var s,i=Object(N.a)(Object(N.a)(a));switch(n){case"1":s="Main";break;case"2":s="Morden";break;case"3":s="Ropsten";break;case"4":s="Rinkeby";break;case"42":s="Kovan";break;default:s=n}i.setState({networkName:s,selectedAddress:t})};var n=(new Date).toLocaleDateString("en-US");if(a.state={to_address:"",type:"",token_id:"",token_name:"",icon:"",last_name:"",first_name:"",issuing_organization:"",serial_number:"",issue_date:n,expiry_date:"no",description:"",isLoading:!1,errorMessage:null,isMinter:!0,web3:null,contractInstance:null,networkName:"",selectedAddress:"",pendingCreateTx:null},a.onChange=a.onChange.bind(Object(N.a)(Object(N.a)(a))),a.onSubmit=a.onSubmit.bind(Object(N.a)(Object(N.a)(a))),a.saveToken=a.saveToken.bind(Object(N.a)(Object(N.a)(a))),window.ethereum){a.state.web3=new C.a(window.ethereum);try{window.ethereum.enable().then(function(){console.log("User has allowed account access to DApp...")})}catch(s){console.log("error in metamask initialization: ",s),a.setState({errorMessage:"you denied access to this DApp from Metamask"})}}else window.web3?a.state.web3=new C.a(a.state.web3.currentProvider):a.setState({errorMessage:"please install and unlock metamask in order to use this application"});return a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onChange",value:function(e){this.setState({errorMessage:null});var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.id;this.setState(Object(w.a)({},n,a))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=a(198),n={to_address:this.state.to_address,type:this.state.type,token_id:this.state.token_id,token_name:this.state.token_name,icon:this.state.icon,last_name:this.state.last_name,first_name:this.state.first_name,issuing_organization:this.state.issuing_organization,serial_number:t(),issue_date:this.state.issue_date,expiry_date:this.state.expiry_date,description:this.state.description};this.saveToken(n)}},{key:"componentDidMount",value:function(){var e=Object(k.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({contractInstance:new this.state.web3.eth.Contract(_,"0xba0c82cc237d1bafcfdedc8dade697c40eb71522")});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),this.setState({errorMessage:"please install and unlock metamask in order to use this application"});case 9:this.initMetamaskCallback(window.web3);case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"saveToken",value:function(){var e=Object(k.a)(E.a.mark(function e(t){var a,n,s=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("saving -> ",t),""!==t.type&&""!==t.icon&&""!==t.name&&""!==t.last_name){e.next=4;break}return this.setState({errorMessage:"Please fill all the information on the form"}),e.abrupt("return");case 4:return this.setState({isLoading:!0}),a='{"type":"'+t.type+'","token_id":"'+t.token_id+'","token_name":"'+t.token_name+'","icon":"'+t.icon+'","last_name":"'+t.last_name+'","first_name":"'+t.first_name+'","issuing_organization":"'+t.issuing_organization+'","serial_number":"'+t.serial_number+'","issue_date":"'+t.issue_date+'","expiry_date":"'+t.expiry_date+'","description":"'+t.description+'"}',console.log("jsontext",a),n=btoa(a),console.log("encodedData",n),e.prev=9,e.next=12,this.state.contractInstance.methods.mintWithTokenURI(t.to_address,t.token_id,n).send({from:this.state.selectedAddress,gas:4e6}).on("transactionHash",function(e){s.setState({pendingCreateTx:e})});case 12:this.setState({isLoading:!1}),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(9),console.log(e.t0),this.setState({errorMessage:e.t0.toString()}),this.setState({isLoading:!1});case 20:case"end":return e.stop()}},e,this,[[9,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initMetamaskCallback",value:function(){var e=Object(k.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.currentProvider.publicConfigStore.on("update",this.metamaskUpdateCallback)}catch(a){console.error(a)}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(new Date).toLocaleDateString("en-US");return s.a.createElement("div",{className:"container"},s.a.createElement("form",{className:"white",onSubmit:this.onSubmit},s.a.createElement("h5",{className:"grey-text text-darken-3"},"Create a New Token"),s.a.createElement("p",{style:{marginTop:"40px"}},s.a.createElement("label",null,s.a.createElement("input",{id:"type",value:"awards",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),s.a.createElement("span",null,"Awards & Recognition"))),s.a.createElement("p",null,s.a.createElement("label",null,s.a.createElement("input",{id:"type",value:"trainings",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),s.a.createElement("span",null,"Trainings & Certifications"))),s.a.createElement("p",null,s.a.createElement("label",null,s.a.createElement("input",{id:"type",value:"professional_memberships",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),s.a.createElement("span",null,"Professional Memberships"))),s.a.createElement("p",null,s.a.createElement("label",null,s.a.createElement("input",{id:"type",value:"education",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),s.a.createElement("span",null,"Education"))),s.a.createElement("p",null,s.a.createElement("label",null,s.a.createElement("input",{id:"type",value:"licenses",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),s.a.createElement("span",null,"Licenses"))),s.a.createElement("div",{className:"input-field",style:{marginTop:"40px"}},s.a.createElement("input",{type:"text",id:"to_address",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"to_address"},"To Address")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"token_id",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"token_id"},"Token ID")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"token_name",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"token_name"},"Token Name")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"icon",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"icon"},"Icon URL")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"last_name",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"last_name"},"Last Name")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"first_name",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"first_name"},"First Name")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"issuing_organization",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"first_name"},"Issuing Organization")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"issue_date",defaultValue:e,onChange:this.onChange}),s.a.createElement("label",{className:"active",htmlFor:"issue_date"},"Issue Date (US Format)")),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",id:"expiry_date",defaultValue:"no",onChange:this.onChange}),s.a.createElement("label",{className:"active",htmlFor:"expiry_date"},"Expiry Date  (US Format)")),s.a.createElement("div",{className:"input-field"},s.a.createElement("textarea",{id:"description",className:"materialize-textarea",onChange:this.onChange}),s.a.createElement("label",{htmlFor:"description"},"Description")),s.a.createElement("div",{className:"input-field"},s.a.createElement("button",{className:"btn btn-large pink lighten-1"},"Create"))),s.a.createElement(M,{show:this.state.isLoading}),s.a.createElement(S,{errorMessage:this.state.errorMessage}),s.a.createElement(A,{infoMessage:"Pending Transaction Hash: "+this.state.pendingCreateTx}))}}]),t}(n.Component),T=a(216),F=a(215);Object(F.setConfig)({ignoreSFC:!0,pureRender:!0});var z=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(b.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(y,null),s.a.createElement(g.a,null,s.a.createElement(f.a,{exact:!0,path:"/",component:j}),s.a.createElement(f.a,{path:"/add_token",component:D}),s.a.createElement(f.a,{path:"/about",component:I}))))}}]),t}(n.Component),U=Object(T.hot)(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[218,1,2]]]);
//# sourceMappingURL=main.098cb96e.chunk.js.map