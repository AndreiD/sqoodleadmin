(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(516)},220:function(e,t,a){},236:function(e,t){},238:function(e,t){},337:function(e,t){},418:function(e,t){},516:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(210),r=a.n(s),l=(a(220),a(42)),o=a(43),c=a(45),m=a(44),u=a(46),p=a(121),d=a(517),h=a(520),y=Object(h.a)(function(e){return i.a.createElement("nav",{className:"grey darken-4 z-depth-0"},i.a.createElement("div",{className:"nav-wrapper container"},i.a.createElement("a",{href:"/",className:"brand-logo"},"Sqoodle Admin"),i.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},i.a.createElement("li",null,i.a.createElement(p.a,{to:"/"},"HOME")),i.a.createElement("li",null,i.a.createElement(d.a,{to:"/add_token"},"ADD TOKEN")),i.a.createElement("li",null,i.a.createElement(d.a,{to:"/about"},"ABOUT")))))}),b=a(518),f=a(519),g=a(211),v=a(7),E=a.n(v),k=a(34),w=a(82),N=a(12),x=[{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"tokenURI",type:"string"}],name:"mintWithTokenURI",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],_=a(122),C=a.n(_);function M(e){return e.show?i.a.createElement("div",{className:"xcentered preloader-wrapper big active"},i.a.createElement("div",{className:"spinner-layer spinner-blue"},i.a.createElement("div",{className:"circle-clipper left"},i.a.createElement("div",{className:"circle"})),i.a.createElement("div",{className:"gap-patch"},i.a.createElement("div",{className:"circle"})),i.a.createElement("div",{className:"circle-clipper right"},i.a.createElement("div",{className:"circle"})))):null}var O=function(e){var t=window.atob(e.metadata),a=JSON.parse("["+t+"]")[0];return e.metadata?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s6 offset-s3"},i.a.createElement("ul",{className:"collection with-header"},i.a.createElement("li",{className:"collection-header"},i.a.createElement("h4",null,a.last_name," ",a.first_name)),i.a.createElement("li",{className:"collection-item"},i.a.createElement("img",{style:{width:"75px",height:"75px"},src:a.icon,alt:"icon"})),i.a.createElement("li",{className:"collection-item"},i.a.createElement("i",{className:"material-icons circle left"},"offline_bolt"),a.type),i.a.createElement("li",{className:"collection-item"},i.a.createElement("i",{className:"material-icons circle left"},"store")," Organization: ",a.issuing_organization),i.a.createElement("li",{className:"collection-item"},i.a.createElement("i",{className:"material-icons circle left"},"fingerprint")," Serial Number: ",a.serial_number),i.a.createElement("li",{className:"collection-item"},i.a.createElement("i",{className:"material-icons circle left"},"date_range")," Issue Date: ",a.issue_date),i.a.createElement("li",{className:"collection-item"},i.a.createElement("i",{className:"material-icons circle left"},"hourglass_empty")," Expiry Date: ",a.expiry_date),i.a.createElement("li",{className:"collection-item"},a.description)))):null};var j=function(e){var t=e.errorMessage;return null==t?null:i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s12"},i.a.createElement("div",{className:"card-panel grey darken-4 z-depth-0"},i.a.createElement("span",{className:"red-text text-lighten-2"},i.a.createElement("i",{className:"material-icons circle left"},"error_outline"),t))))},S=function(e){function t(){var e;if(Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={contractInstance:null,web3Instance:null,isLoading:!1,token_id:"",token_metadata:"",errorMessage:null,isMinter:!0,web3:null},e.onChange=e.onChange.bind(Object(N.a)(Object(N.a)(e))),e.onSubmit=e.onSubmit.bind(Object(N.a)(Object(N.a)(e))),e.getTokenByID=e.getTokenByID.bind(Object(N.a)(Object(N.a)(e))),window.ethereum){e.state.web3=new C.a(window.ethereum);try{window.ethereum.enable().then(function(){console.log("User has allowed account access to DApp...")})}catch(a){console.log("error in metamask initialization: ",a),e.setState({errorMessage:"you denied access to this DApp from Metamask"})}}else window.web3?e.state.web3=new C.a(e.state.web3.currentProvider):e.setState({errorMessage:"please install and unlock metamask in order to use this application"});return e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onChange",value:function(e){this.setState({errorMessage:null});var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.id;this.setState(Object(w.a)({},n,a))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.getTokenByID(this.state.token_id)}},{key:"componentDidMount",value:function(){var e=Object(k.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({contractInstance:new this.state.web3.eth.Contract(x,"0xba0c82cc237d1bafcfdedc8dade697c40eb71522")});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),this.setState({errorMessage:"please install and unlock metamask in order to use this application"});case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"getTokenByID",value:function(){var e=Object(k.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting the token info for id: "+t),this.setState({isLoading:!0}),e.prev=2,e.next=5,this.state.contractInstance.methods.tokenURI(t).call();case 5:return a=e.sent,e.next=8,this.setState({token_metadata:a});case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log("get balance failed. Failed message: "+e.t0),e.next=15,this.setState({errorMessage:"No token with this ID found. "+e.t0.toString()});case 15:this.setState({isLoading:!1});case 16:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"container"},i.a.createElement("form",{className:"col s12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"input-field col s3 offset-s3"},i.a.createElement("input",{type:"text",id:"token_id",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"token_id"},"Token ID")),i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",onClick:this.onSubmit},"SEARCH")))),i.a.createElement(M,{show:this.state.isLoading}),i.a.createElement(O,{metadata:this.state.token_metadata}),i.a.createElement(j,{errorMessage:this.state.errorMessage})))}}]),t}(n.Component),I=function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row",style:{marginTop:"20px"}},i.a.createElement("div",{className:"col s6 offset-s3"},i.a.createElement("div",{className:"card grey darken-4 z-depth-0"},i.a.createElement("div",{className:"card-content white-text"},i.a.createElement("span",{className:"card-title"},"Ethereum"),i.a.createElement("p",null,"DAPP created by Andy."))))))},D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).metamaskUpdateCallback=function(e){var t=e.selectedAddress;e.networkVersion;console.log("selectedAddress",t),function(){var e=Object(k.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.state.contractInstance.methods.isMinter(t).call();case 3:!1===e.sent&&a.setState({errorMessage:"only minters are allowed to access this dapp"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("isMinter call failed: "+e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}().call()},a.state={type:"",token_id:"",token_name:"",icon:"",last_name:"",first_name:"",issuing_organization:"",serial_number:"",issue_date:"",expiry_date:"",description:"",isLoading:!1,errorMessage:null},a.onChange=a.onChange.bind(Object(N.a)(Object(N.a)(a))),a.onSubmit=a.onSubmit.bind(Object(N.a)(Object(N.a)(a))),a.saveToken=a.saveToken.bind(Object(N.a)(Object(N.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onChange",value:function(e){this.setState({errorMessage:null});var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.id;this.setState(Object(w.a)({},n,a))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={type:this.state.type,token_id:this.state.token_id,token_name:this.state.token_name,icon:this.state.icon,last_name:this.state.last_name,first_name:this.state.first_name,issuing_organization:this.state.issuing_organization,serial_number:Math.floor(1e8*Math.random()),issue_date:this.state.issue_date,expiry_date:this.state.expiry_date,description:this.state.description};this.saveToken(t)}},{key:"componentDidMount",value:function(){var e=Object(k.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.initMetamaskCallback(window.web3);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveToken",value:function(){var e=Object(k.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("saving -> ",t),""!==t.type&&""!==t.icon&&""!==t.name&&""!==t.last_name){e.next=4;break}return this.setState({errorMessage:"Please fill all the information on the form"}),e.abrupt("return");case 4:this.setState({isLoading:!0});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initMetamaskCallback",value:function(){var e=Object(k.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.currentProvider.publicConfigStore.on("update",this.metamaskUpdateCallback)}catch(a){console.error(a)}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(new Date).toLocaleDateString("en-US");return i.a.createElement("div",{className:"container"},i.a.createElement("form",{className:"white",onSubmit:this.onSubmit},i.a.createElement("h5",{className:"grey-text text-darken-3"},"Create a New Token"),i.a.createElement("p",{style:{marginTop:"40px"}},i.a.createElement("label",null,i.a.createElement("input",{id:"type",value:"awards",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),i.a.createElement("span",null,"Awards & Recognition"))),i.a.createElement("p",null,i.a.createElement("label",null,i.a.createElement("input",{id:"type",value:"trainings",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),i.a.createElement("span",null,"Trainings & Certifications"))),i.a.createElement("p",null,i.a.createElement("label",null,i.a.createElement("input",{id:"type",value:"professional_memberships",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),i.a.createElement("span",null,"Professional Memberships"))),i.a.createElement("p",null,i.a.createElement("label",null,i.a.createElement("input",{id:"type",value:"education",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),i.a.createElement("span",null,"Education"))),i.a.createElement("p",null,i.a.createElement("label",null,i.a.createElement("input",{id:"type",value:"licenses",className:"with-gap",name:"group1",type:"radio",onChange:this.onChange}),i.a.createElement("span",null,"Licenses"))),i.a.createElement("div",{className:"input-field",style:{marginTop:"40px"}},i.a.createElement("input",{type:"text",id:"token_id",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"token_id"},"Token ID")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",id:"token_name",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"token_name"},"Token Name")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",id:"icon",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"icon"},"Icon URL")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",id:"last_name",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"last_name"},"Last Name")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",id:"first_name",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"first_name"},"First Name")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",id:"issuing_organization",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"first_name"},"Issuing Organization")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",id:"issue_date",defaultValue:e,onChange:this.onChange}),i.a.createElement("label",{className:"active",htmlFor:"issue_date"},"Issue Date (US Format)")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{type:"text",id:"expiry_date",defaultValue:"no",onChange:this.onChange}),i.a.createElement("label",{className:"active",htmlFor:"expiry_date"},"Expiry Date  (US Format)")),i.a.createElement("div",{className:"input-field"},i.a.createElement("textarea",{id:"description",className:"materialize-textarea",onChange:this.onChange}),i.a.createElement("label",{htmlFor:"description"},"Description")),i.a.createElement("div",{className:"input-field"},i.a.createElement("button",{className:"btn btn-large pink lighten-1"},"Create"))),i.a.createElement(M,{show:this.state.isLoading}),i.a.createElement(j,{errorMessage:this.state.errorMessage}))}}]),t}(n.Component),A=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement(b.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(y,null),i.a.createElement(f.a,null,i.a.createElement(g.a,{exact:!0,path:"/",component:S}),i.a.createElement(g.a,{path:"/add_token",component:D}),i.a.createElement(g.a,{path:"/about",component:I}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,1,2]]]);
//# sourceMappingURL=main.1034121d.chunk.js.map